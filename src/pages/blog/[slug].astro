---
import Layout from "../../layouts/Layout.astro";
import { IBlog } from "../../types";
import Burger from "../../components/Burger";
import Second from "../../components/Second.astro";
import Contacts from "../../components/contacts/Contacts.astro";
import Footer from "../../components/footer/Footer.astro";
import { blog } from "../../content/blog";

export async function getStaticPaths({ paginate }) {
  // const response = await fetch('https://fakestoreapi.com/products')

  return blog.map((item) => ({
    params: { slug: item.slug },
    props: { item },
  }));
  // return paginate(
  //   blog.map((item) => ({
  //     params: { slug: item.slug },
  //     props: { item },
  //   })),
  //   { pageSize: 5 }
  // );
}

interface Props {
  item: IBlog;
}

const { slug } = Astro.params;
const { item } = Astro.props as Props;
// const { item } = Astro.props;

const menu = [
  { id: 1, slug: "/", title: "Witam" },
  { id: 2, slug: "o-nas", title: "O nas" },
];
---

<Layout title={` ${item.title}`} description={`Radca prawny | ${item.title}`}>
  <!-- <Burger links={menu} url_cuted_param={currentPath} client:load /> -->
  <Second />
  <section class='cases w-full lg:w-9/12 mx-auto py-24'>
    <div>
      <div>
        <img src={item.image} />
        <h3>{item.title}</h3>
        <p>{item.subtitle}</p>
        <div>{item.content}</div>
      </div>
    </div>
  </section>

  <Contacts />
  <Footer />
</Layout>

<style></style>
